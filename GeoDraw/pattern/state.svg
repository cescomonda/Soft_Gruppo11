<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="670px" preserveAspectRatio="none" style="width:1190px;height:670px;background:#FFFFFF;" version="1.1" viewBox="0 0 1190 670" width="1190px" zoomAndPan="magnify"><defs/><g><!--cluster sad--><g class="cluster" data-entity="sad" data-source-line="24" data-uid="ent0009" id="cluster_sad"><path d="M237.57,6 L266.3718,6 A3.75,3.75 0 0 1 268.8718,8.5 L275.8718,28.2969 L900.57,28.2969 A2.5,2.5 0 0 1 903.07,30.7969 L903.07,326.25 A2.5,2.5 0 0 1 900.57,328.75 L237.57,328.75 A2.5,2.5 0 0 1 235.07,326.25 L235.07,8.5 A2.5,2.5 0 0 1 237.57,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="235.07" x2="275.8718" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="27.8018" x="239.07" y="20.9951">sad</text></g><!--cluster gruppo11--><g class="cluster" data-entity="gruppo11" data-source-line="24" data-uid="ent0010" id="cluster_gruppo11"><path d="M261.57,49 L338.6061,49 A3.75,3.75 0 0 1 341.1061,51.5 L348.1061,71.2969 L876.57,71.2969 A2.5,2.5 0 0 1 879.07,73.7969 L879.07,302.25 A2.5,2.5 0 0 1 876.57,304.75 L261.57,304.75 A2.5,2.5 0 0 1 259.07,302.25 L259.07,51.5 A2.5,2.5 0 0 1 261.57,49" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="259.07" x2="348.1061" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76.0361" x="263.07" y="63.9951">gruppo11</text></g><!--cluster Controller--><g class="cluster" data-entity="Controller" data-source-line="23" data-uid="ent0007" id="cluster_Controller"><path d="M285.57,92 L365.6413,92 A3.75,3.75 0 0 1 368.1413,94.5 L375.1413,114.2969 L852.57,114.2969 A2.5,2.5 0 0 1 855.07,116.7969 L855.07,278.25 A2.5,2.5 0 0 1 852.57,280.75 L285.57,280.75 A2.5,2.5 0 0 1 283.07,278.25 L283.07,94.5 A2.5,2.5 0 0 1 285.57,92" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="283.07" x2="375.1413" y1="114.2969" y2="114.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79.0713" x="287.07" y="106.9951">Controller</text></g><!--class GeoEngine--><g class="entity" data-entity="GeoEngine" data-source-line="24" data-uid="ent0008" id="entity_GeoEngine"><rect fill="#F1F1F1" height="137.75" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="539.8027" x="299.17" y="127"/><ellipse cx="526.817" cy="147.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M529.7857,152.7734 Q529.2076,153.0703 528.567,153.2109 Q527.9263,153.3672 527.2232,153.3672 Q524.7232,153.3672 523.3951,151.7266 Q522.0826,150.0703 522.0826,146.9453 Q522.0826,143.8203 523.3951,142.1641 Q524.7232,140.5078 527.2232,140.5078 Q527.9263,140.5078 528.567,140.6641 Q529.2232,140.8203 529.7857,141.1172 L529.7857,143.8359 Q529.1607,143.2578 528.567,142.9922 Q527.9732,142.7109 527.3482,142.7109 Q526.0045,142.7109 525.317,143.7891 Q524.6295,144.8516 524.6295,146.9453 Q524.6295,149.0391 525.317,150.1172 Q526.0045,151.1797 527.3482,151.1797 Q527.9732,151.1797 528.567,150.9141 Q529.1607,150.6328 529.7857,150.0547 L529.7857,152.7734 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61.9043" x="554.3692" y="143.1387">&#171;Context&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0088" x="547.317" y="158.9639">GeoEngine</text><line style="stroke:#181818;stroke-width:0.5;" x1="300.17" x2="837.9727" y1="167.2656" y2="167.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.9639" x="305.17" y="184.2607">-currentState: ToolState</text><line style="stroke:#181818;stroke-width:0.5;" x1="300.17" x2="837.9727" y1="191.5625" y2="191.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.1523" x="305.17" y="208.5576">+setState(String toolName)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="509.168" x="305.17" y="224.8545">+onMousePressed(Point2D p) { currentState.onMousePressed(this, p); }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="520.1465" x="305.17" y="241.1514">+onMouseDragged(Point2D p) { currentState.onMouseDragged(this, p); }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527.8027" x="305.17" y="257.4482">+onMouseReleased(Point2D p) { currentState.onMouseReleased(this, p); }</text></g><!--class ToolState--><g class="entity" data-entity="ToolState" data-source-line="4" data-uid="ent0002" id="entity_ToolState"><rect fill="#F1F1F1" height="146.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="301.5908" x="418.28" y="391.75"/><ellipse cx="531.5105" cy="411.8828" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M527.4323,407.6484 L527.4323,405.4922 L534.823,405.4922 L534.823,407.6484 L532.3542,407.6484 L532.3542,415.7266 L534.823,415.7266 L534.823,417.8828 L527.4323,417.8828 L527.4323,415.7266 L529.9011,415.7266 L529.9011,407.6484 L527.4323,407.6484 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46.4473" x="562.1018" y="407.8887">&#171;State&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.6299" x="552.0105" y="423.7139">ToolState</text><line style="stroke:#181818;stroke-width:0.5;" x1="419.28" x2="718.8708" y1="432.0156" y2="432.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.2734" x="424.28" y="449.0107">+onMousePressed(GeoEngine, Point2D)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.7627" x="424.28" y="465.3076">+onMouseDragged(GeoEngine, Point2D)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.5908" x="424.28" y="481.6045">+onMouseReleased(GeoEngine, Point2D)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8945" x="424.28" y="497.9014">+getName(): String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.2852" x="424.28" y="514.1982">+activate(GeoEngine)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.7852" x="424.28" y="530.4951">+deactivate(GeoEngine)</text></g><!--class LineState--><g class="entity" data-entity="LineState" data-source-line="13" data-uid="ent0003" id="entity_LineState"><rect fill="#F1F1F1" height="64.5625" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292.2734" x="33.94" y="598.8"/><ellipse cx="127.439" cy="618.9328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M130.4078,624.5734 Q129.8296,624.8703 129.189,625.0109 Q128.5484,625.1672 127.8453,625.1672 Q125.3453,625.1672 124.0171,623.5266 Q122.7046,621.8703 122.7046,618.7453 Q122.7046,615.6203 124.0171,613.9641 Q125.3453,612.3078 127.8453,612.3078 Q128.5484,612.3078 129.189,612.4641 Q129.8453,612.6203 130.4078,612.9172 L130.4078,615.6359 Q129.7828,615.0578 129.189,614.7922 Q128.5953,614.5109 127.9703,614.5109 Q126.6265,614.5109 125.939,615.5891 Q125.2515,616.6516 125.2515,618.7453 Q125.2515,620.8391 125.939,621.9172 Q126.6265,622.9797 127.9703,622.9797 Q128.5953,622.9797 129.189,622.7141 Q129.7828,622.4328 130.4078,621.8547 L130.4078,624.5734 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100.7754" x="145.939" y="614.9387">&#171;ConcreteState&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.2334" x="163.21" y="630.7639">LineState</text><line style="stroke:#181818;stroke-width:0.5;" x1="34.94" x2="325.2134" y1="639.0656" y2="639.0656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.2734" x="39.94" y="656.0607">+onMousePressed(GeoEngine, Point2D)</text></g><!--class SelectState--><g class="entity" data-entity="SelectState" data-source-line="17" data-uid="ent0005" id="entity_SelectState"><rect fill="#F1F1F1" height="64.5625" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292.2734" x="578.94" y="598.8"/><ellipse cx="672.439" cy="618.9328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M675.4078,624.5734 Q674.8296,624.8703 674.189,625.0109 Q673.5484,625.1672 672.8453,625.1672 Q670.3453,625.1672 669.0171,623.5266 Q667.7046,621.8703 667.7046,618.7453 Q667.7046,615.6203 669.0171,613.9641 Q670.3453,612.3078 672.8453,612.3078 Q673.5484,612.3078 674.189,612.4641 Q674.8453,612.6203 675.4078,612.9172 L675.4078,615.6359 Q674.7828,615.0578 674.189,614.7922 Q673.5953,614.5109 672.9703,614.5109 Q671.6265,614.5109 670.939,615.5891 Q670.2515,616.6516 670.2515,618.7453 Q670.2515,620.8391 670.939,621.9172 Q671.6265,622.9797 672.9703,622.9797 Q673.5953,622.9797 674.189,622.7141 Q674.7828,622.4328 675.4078,621.8547 L675.4078,624.5734 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100.7754" x="690.939" y="614.9387">&#171;ConcreteState&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.2471" x="701.2032" y="630.7639">SelectState</text><line style="stroke:#181818;stroke-width:0.5;" x1="579.94" x2="870.2134" y1="639.0656" y2="639.0656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.2734" x="584.94" y="656.0607">+onMousePressed(GeoEngine, Point2D)</text></g><g class="entity" data-entity="GMN14" data-source-line="41" data-uid="ent0015" id="entity_GMN14"><path d="M918.71,168.18 L918.71,191.88 L839.26,195.88 L918.71,199.88 L918.71,223.5784 A0,0 0 0 0 918.71,223.5784 L1183.4346,223.5784 A0,0 0 0 0 1183.4346,223.5784 L1183.4346,178.18 L1173.4346,168.18 L918.71,168.18 A0,0 0 0 0 918.71,168.18" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1173.4346,168.18 L1173.4346,178.18 L1183.4346,178.18 L1173.4346,168.18" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.7246" x="924.71" y="185.2469">Delega il comportamento dipendente</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.6885" x="924.71" y="200.3797">dallo strumento corrente all'oggetto</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.5547" x="924.71" y="215.5125">ToolState attivo.</text></g><g class="entity" data-entity="GMN17" data-source-line="47" data-uid="ent0018" id="entity_GMN17"><path d="M144.83,444.64 L144.83,484.9056 A0,0 0 0 0 144.83,484.9056 L383.3134,484.9056 A0,0 0 0 0 383.3134,484.9056 L383.3134,468.77 L417.82,464.77 L383.3134,460.77 L383.3134,454.64 L373.3134,444.64 L144.83,444.64 A0,0 0 0 0 144.83,444.64" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M373.3134,444.64 L373.3134,454.64 L383.3134,454.64 L373.3134,444.64" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.7183" x="150.83" y="461.7069">Definisce l'interfaccia per</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.4834" x="150.83" y="476.8397">tutti gli stati (strumenti) possibili.</text></g><!--reverse link ToolState to LineState--><g class="link" data-entity-1="ToolState" data-entity-2="LineState" data-source-line="14" data-uid="lnk4" id="link_ToolState_LineState"><path d="M401.417,537.6539 C395.707,540.0739 406.63,535.45 401.07,537.8 C353.11,558.09 299.18,580.62 256.6,598.33" fill="none" id="ToolState-backto-LineState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="417.99,530.63,399.0757,532.1296,403.7583,543.1783,417.99,530.63" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ToolState to SelectState--><g class="link" data-entity-1="ToolState" data-entity-2="SelectState" data-source-line="18" data-uid="lnk6" id="link_ToolState_SelectState"><path d="M649.8944,550.8929 C670.0344,572.1029 678.64,581.17 695.03,598.43" fill="none" id="ToolState-backto-SelectState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="637.5,537.84,645.5434,555.0244,654.2454,546.7614,637.5,537.84" style="stroke:#181818;stroke-width:1;"/></g><!--link GeoEngine to ToolState--><g class="link" data-entity-1="GeoEngine" data-entity-2="ToolState" data-source-line="35" data-uid="lnk11" id="link_GeoEngine_ToolState"><path codeLine="35" d="M569.07,276.92 C569.07,315.68 569.07,346.23 569.07,385.65" fill="none" id="GeoEngine-ToolState" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="569.07,264.92,565.07,270.92,569.07,276.92,573.07,270.92,569.07,264.92" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="569.07,391.65,573.07,382.65,569.07,386.65,565.07,382.65,569.07,391.65" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.8213" x="570.07" y="357.8169">currentState</text></g><!--link GeoEngine to LineState--><g class="link" data-entity-1="GeoEngine" data-entity-2="LineState" data-source-line="36" data-uid="lnk12" id="link_GeoEngine_LineState"><path codeLine="36" d="M298.98,232.11 C201.88,259.27 101.9,307.22 43.07,391.75 C6,445.03 12.58,480.5 43.07,537.8 C56.88,563.75 76.4374,580.6526 101.1074,595.2626" fill="none" id="GeoEngine-to-LineState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="106.27,598.32,100.5644,590.2922,101.9678,595.7722,96.4878,597.1757,106.27,598.32" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4878" x="44.07" y="469.3369">uses/creates</text></g><!--link GeoEngine to SelectState--><g class="link" data-entity-1="GeoEngine" data-entity-2="SelectState" data-source-line="37" data-uid="lnk13" id="link_GeoEngine_SelectState"><path codeLine="37" d="M649.1,264.84 C683.15,299 719.11,343.39 737.07,391.75 C763.12,461.85 747.9687,545.7702 735.8887,592.6002" fill="none" id="GeoEngine-to-SelectState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="734.39,598.41,740.5112,590.6944,735.6389,593.5685,732.7648,588.6962,734.39,598.41" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4878" x="751.07" y="469.3369">uses/creates</text></g><!--SRC=[bLJHZjCm47ptL-pRDResS3oMKoL4JmW9qEdA3xZErbsTOrls1W6d-tSsITEa5L3rAR9tFBFZdJW_auywwHgCqpb_O4wqRHW_c-0tz1lXhTfJXO1rv5zGOxt5b9KYpvXssY1y3y5jM3F2_NttNQtWHG7S1lyrD1aV4-QCrUmJXWTloUCS7eCSVxSk9gXrqjPUH3sXG_qVCelyJTSuAvQm4H_UjflQCFsGliP37RR2lnLUbUhk0Rx8Sh3rCNYJa76mHtLqMAFdF75_XUaRACjIf7gbZPWoV9NMzLBT5mBlCS69H8RPayXhRrs_COS7voZcOOLioaAfgCspjWXPLwLDJOpXxguK9ax1EI5jM-hz71lftJ3-v4Ca01QcIKdCTDpBqL5NlCtO5sRzy82btCwpwCjdXWyk8HRm0bFUyWp8UyfpWRs7rnEY8NCNYGRWluYEiRp8T4IUK_Lp0bb90jLuXM6nM4q6lpnXdU3ASZM9x194Ax-HARSJFeDDytO6x5DIOKHVeJSawU1mI8qvf0Po5nkbV9158hjd2Bjnwc9YBGfM0pavLCUGMBS13b1HJzpDkzBE1I5BJLyqeJE68FitGUwREGXizAvPVjTGAg60LllGWSDTry0qIslSaQSihvEx6LugGneY9gbo8qnW7NLM26P34rH033dJbXoDEdy0]--></g></svg>